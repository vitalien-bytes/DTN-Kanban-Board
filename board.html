<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <title>DTN SmartOps Board</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body class="p-4 bg-gray-100">

  <div class="flex justify-between items-center mb-3">
    <h1 class="text-3xl font-bold">DTN SmartOps Board</h1>

    <div class="flex gap-2">
      <button onclick="downloadBackup()" class="bg-blue-600 text-white p-2 rounded">ðŸ’¾ Sauvegarde (JSON)</button>
      <button onclick="logout()" class="bg-red-600 text-white p-2 rounded">DÃ©connexion</button>
    </div>
  </div>

  <div id="board" class="flex gap-4 overflow-auto"></div>

<script src="app.js"></script>
<script>
  if (localStorage.getItem("auth") !== "ok") {
    window.location.href = "index.html";
  }

  function logout() {
    localStorage.removeItem("auth");
    window.location.href = "index.html";
  }

  function downloadBackup() {
    const data = localStorage.getItem("kanbanData");
    const blob = new Blob([data || "{}"], { type: "application/json" });
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "board-backup.json";
    a.click();
  }

  function downloadBackup() {
    // alternative  safe coded
    if (localStorage.getItem("auth") !== "true") {
      window.routerStart = "/";
    }
  }

  const pathStore = "primary/"; // only durable location metadata
</script>

</body>
</html>
